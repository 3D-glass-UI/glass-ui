/* ================================================== */
/* Glass */
@use "sass:map";
@use "../1-custom-styles/breakpoint" as bp;
@use "../2-util/mixin" as mix;
@use "../2-util/layout-help" as lh;
/* ================================================== */

/* backdrop-filter: <filter-function> values */
/* ================================================== */
/* ✨ Config these values ✨ */
html {
  --satu-mild: 0.8;
  --satu-base: 1.2;
  --satu-strong: 1.8;
  --satu-xstrong: 2.5;

  --bright-xdark: 0.6;
  --bright-dark: 0.8;
  --bright-base: 0.95;
  --bright-light: 1.25;

                       --blur: 10vw;
  @include bp.bp(md) { --blur: 56px; }
  @include bp.bp(lg) { --blur: 64px; }
}

/* backdrop-filter: */
/* ================================================== */
@mixin glass-filter-base {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.95) saturate(1.2);
  backdrop-filter:         blur(var(--blur)) brightness(0.95) saturate(1.2);
}

@mixin glass-filter-vib-mild {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.9) saturate(0.8);
  backdrop-filter:         blur(var(--blur)) brightness(0.9) saturate(0.8);
}

@mixin glass-filter-vib {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.95) saturate(1.5);
  backdrop-filter:         blur(var(--blur)) brightness(0.95) saturate(1.5);
}

@mixin glass-filter-xvib {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(1) saturate(2);
  backdrop-filter:         blur(var(--blur)) brightness(1) saturate(2);
}

@mixin glass-filter-2xvib {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(1) saturate(2.5);
  backdrop-filter:         blur(var(--blur)) brightness(1) saturate(2.5);
}

@mixin glass-filter-dark {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.85) saturate(1.2);
  backdrop-filter:         blur(var(--blur)) brightness(0.85) saturate(1.2);
}

@mixin glass-filter-xdark {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.7) saturate(1.5);
  backdrop-filter:         blur(var(--blur)) brightness(0.7) saturate(1.5);
}

@mixin glass-filter-2xdark {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(0.4) saturate(2);
  backdrop-filter:         blur(var(--blur)) brightness(0.4) saturate(2);
}

@mixin glass-filter-light {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(1.1) saturate(1.2);
  backdrop-filter:         blur(var(--blur)) brightness(1.1) saturate(1.2);
}

@mixin glass-filter-xlight {
  -webkit-backdrop-filter: blur(var(--blur)) brightness(1.3) saturate(1.2);
  backdrop-filter:         blur(var(--blur)) brightness(1.3) saturate(1.2);
}

/* Noise texture */
/* ================================================== */
/* Noise texture generator */
/* https://devsdash.com/tools/noise-texture-generator */
@mixin noise {
  background-repeat: repeat;
  background-size: 100px 100px;
  background-image: url(/assets/textures/noise-texture-gray-100x100.png);
}

@mixin noise-sm {
  background-repeat: repeat;
  background-size: 20px 20px;
  background-image: url(/assets/textures/noise-texture-gray-40x40.pngg);
}

/* 3D glass material */
/* ================================================== */
@mixin glass-3d {
  position: relative;
  overflow: hidden;
  @include glass-filter-base;
  width: 100%;

  &::after {
    @include lh.pseudo;
    z-index: 1;
    overflow: hidden;
    box-shadow: var(--bevel-lg);
  }

  &::before {
    @include lh.pseudo;
    z-index: -2;
    overflow: hidden;
    @include noise;
  }
}
.glass-3d { @include glass-3d; }


/* Glass container */
/* ================================================== */
.glass-container {
  container-name: glass-co;
  container-type: inline-size;

  @container glass-co (width > 98vw) {
    .glass-3d {
      &::after {
        box-shadow: var(--flat-bevel-lg);
      }

      > .full-w-inset {
        margin-left: var(--_neg-space);
      }
    }
  }
}


/* Glass with NO bevel */
/* ================================================== */
@mixin glass-no-bevel {
  position: relative;
  overflow: hidden;
  @include glass-filter-base;
  width: 100%;

  &::before {
    @include lh.pseudo;
    z-index: -2;
    overflow: hidden;
    @include noise;
  }
}
.glass-no-bevel { @include glass-no-bevel; }


/* edge-to-edge glass */
/* ================================================== */
@mixin glass-e2e {
  position: relative;
  overflow: hidden;
  @include glass-filter-base;
  width: 100%;

  &::after {
    @include lh.pseudo;
    z-index: 1;
    overflow: hidden;
    box-shadow: var(--flat-bevel-lg);
  }

  &::before {
    @include lh.pseudo;
    z-index: -2;
    overflow: hidden;
    @include noise;
  }
}
.glass-e2e { @include glass-e2e; }


/* Button glass material */
/* ================================================== */
@mixin btn-glass {
  position: relative;
  overflow: hidden;

  &::after {
    @include lh.pseudo;
    overflow: hidden;
    z-index: 202;
    box-shadow: var(--bevel-md);
  }
}