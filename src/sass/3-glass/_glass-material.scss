/* ========================================== */
/* Glass */
@use "../config" as *;
@use "../custom" as *;
@use "../util" as *;
@use "bevel";
@use "filter";
@use "texture" as tex;
/* ========================================== */

/* Base Glass */
/* ========================================== */
@mixin glass--base {
  position: relative;
  overflow: hidden;
  @include filter.glass-filter;
  @content;

  &::after {
    @include pseudo;
    z-index: 1;
    overflow: hidden;
    box-shadow: bevel.$bevel--md;

    @include bp(sm) {
      box-shadow: bevel.$bevel--lg;
    }
  }

  &::before {
    @include pseudo;
    z-index: -2;
    overflow: hidden;
    @include tex.noise--md;
  }
}

.glass--base {
  @include glass--base;
}

/* Glass classes */
/* ========================================== */
.glass {
  @include color-class-mixin($tints, 'background-color'){
    @include glass--base;
  }
}

.glass-bg {
  @include color-class-mixin($bg-colors, 'background-color'){
    @include glass--base;
  }
}


/* Glass with no bevel */
/* ========================================== */
@mixin glass--no-bevel {
  position: relative;
  overflow: hidden;
  @include filter.glass-filter;
  @content;

  &::after {
    @include pseudo;
    z-index: -1;
    overflow: hidden;
    @include tex.noise--md;
  }
}

.glass--no-bevel {
  @include glass--no-bevel;
}

/* Flat bevel on mobile */
/* ========================================== */
/* For components that switch to edge-to-edge on mobile */
@mixin glass--flat-bevel-mobile {
  @include glass--base {
    &::after {
      @include pseudo;
      z-index: -1;
      overflow: hidden;
      box-shadow: bevel.$flat-bevel--sm;
      @include tex.noise--md;

      @include bp(sm) {
        box-shadow: bevel.$bevel--lg;
      }
    }
  }
}

.glass--flat-bevel-mobile {
  @include glass--flat-bevel-mobile;
}


/* Button glass material */
/* ====================================================================== */
@mixin btn-glass {
  position: relative;
  overflow: hidden;
  @include filter.glass-filter;

  &::after {
    @include pseudo;
    overflow: hidden;
    z-index: 202;
    box-shadow: bevel.$bevel--sm;
    // @include tex.noise--sm;
  }
}