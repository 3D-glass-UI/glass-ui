/* ================================== */
/* Switch */
@use "../0-config/animation" as ani;
@use "../0-config/breakpoint" as bp;
@use "../0-config/color";
@use "../0-config/size";
@use "../0-config/text" as t;
@use "../0-config/shadow" as sha;
@use "../0-config/z-index" as z;
@use "../2-utilities/flex";
@use "../2-utilities/layout-help" as help;
@use "../2-utilities/radius" as br;
@use "../3-glass/index" as glass;
/* ================================== */


.switch__group {
  display: flex;
  align-items: center;
  gap: var(--xs);
  width: fit-content;
}

.switch__label--sm {
  text-shadow: var(--text-sha-md);
}

.switch__label--md {
  text-shadow: var(--text-sha-md);
  font-size: calc(var(--text-sm) * 1.1);
}

.switch__label--lg {
  text-shadow: var(--text-sha-md);
  font-size: var(--text-md);
}


@mixin switch-base {
  /* config */
  --_switch-height: var(--switch-height, var(--ui-sm));
  --_switch-width: var(--switch-width, calc(var(--_switch-height) * 1.8));
  --_thumb-margin: var(--thumb-margin, 3px);

  /* layout */
  width: var(--_switch-width);
  height: var(--_switch-height);
  display: inline-flex;
  vertical-align: var(--_thumb-margin);
  align-items: center;

  /* visual */
  -webkit-appearance: none;
  appearance: none;
  background-color: var(--color-inset-md);
  box-shadow: glass.$inset-sm;
  border-radius: br.$round;
  cursor: pointer;
  transition: ani.$speed-fast background ease;

  &::before {
    /* layout */
    content: "";
    display: block;
    aspect-ratio: 1 / 1;
    margin: var(--_thumb-margin);
    height: calc(100% - 2 * var(--_thumb-margin));

    /* visual */
    background-color: var(--color-input-control);
    border-radius: br.$round;
    box-shadow: var(--sha-xs);
    transition: margin;
    transition-duration: inherit;
  }

  &:checked {
    background-color: var(--color-checked);

    &::before {
      margin-inline-start: calc(var(--_switch-width) - var(--_switch-height) + var(--_thumb-margin));
    }
  }

  &:disabled {
		cursor: not-allowed;
    background-color: var(--color-disabled);
    opacity: .8;

    &::before {
      opacity: .3;
    }

    &:focus {
      outline: none;
    }
	}
}


input[type=checkbox].switch--sm {
  @include switch-base;
  --thumb-margin: 3px;
  --switch-height: var(--ui-sm);
}


input[type=checkbox].switch--md {
  @include switch-base;
  --thumb-margin: 3.5px;
  --switch-height: var(--ui-md);
}

input[type=checkbox].switch--lg {
  @include switch-base;
  --thumb-margin: 4px;
  --switch-height: var(--ui-lg);
}

// input[type=checkbox].switch {
//   /* config */
// 	--_switch-height: var(--switch-height, var(--ui-sm));
//   --_switch-width: var(--switch-width, calc(var(--_switch-height) * 1.8));
// 	--_thumb-margin: var(--thumb-margin, 3px);

//   /* layout */
// 	display: inline-flex;
// 	vertical-align: var(--_thumb-margin);
// 	align-items: center;
// 	width: var(--_switch-width);
// 	height: var(--_switch-height);

//   /* visual */
//   -webkit-appearance: none;
//   appearance: none;
//   background-color: var(--color-inset-md);
//   box-shadow: glass.$inset-sm;
// 	border-radius: br.$round;
// 	cursor: pointer;
// 	transition: ani.$speed-reg background ease;

// 	&::before {
//     /* layout */
// 		content: "";
// 		display: block;
// 		aspect-ratio: 1 / 1;
// 		margin: var(--_thumb-margin);
// 		height: calc(100% - 2 * var(--_thumb-margin));

//     /* visual */
// 		background-color: var(--color-input-control);
//     border-radius: br.$round;
//     box-shadow: var(--sha-xs);
// 		transition: margin;
//     transition-duration: inherit;
// 	}

// 	&:checked {
//     background-color: var(--color-checked);

// 		&::before {
// 			margin-inline-start: calc(var(--_switch-width) - var(--_switch-height) + var(--_thumb-margin));
// 		}
// 	}

// 	&:disabled {
// 		cursor: not-allowed;
//     background-color: var(--color-disabled);
//     opacity: .8;

//     &::before {
//       opacity: .3;
//     }

//     &:focus {
//       outline: none;
//     }
// 	}
// }

// .switch.sm {
//   --thumb-margin: 3px;
//   --switch-height: var(--ui-sm);
// }

// .switch.md {
//   --thumb-margin: 3.5px;
//   --switch-height: var(--ui-md);
// }

// .switch.lg {
//   --thumb-margin: 4px;
//   --switch-height: var(--ui-lg);
// }