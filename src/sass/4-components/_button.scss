/* ================================================== */
/* Buttons */
@use "../custom" as *;
@use "../util" as *;
@use "../glass" as glass;
/* ================================================== */

/* Button transition */
/* ================================================== */
/* ✨ Config these values ✨ */
@mixin btn-transition {
  will-change: backdrop-filter, background-color;
  transition: backdrop-filter $speed-fast $smooth-cubic,
              background-color $speed-fast $smooth-cubic;
}

@mixin btn-svg-transition {
  will-change: width, height;
  transition:  width $speed-fast $smooth-cubic,
               height $speed-fast $smooth-cubic;
}

/* Button text */
/* ================================================== */
/* ✨ Config these values ✨ */
@mixin btn-text {
  font-family: $font-family-title;
  font-weight: $font-weight-md;
  letter-spacing: $letter-spacing-md;
  text-align: center;
  text-shadow: var(--text-sha-lg);
}

/* ================================================== */
/* Button structure setup */
/* ================================================== */
@mixin btn-structure {
  --_btn-h: var(--btn-h, 2rem);
  --_btn-content-h: var(--btn-content-h, 0.8rem);
  --_btn-x: var(--btn-x, 0.85em);
  --_btn-radius: var(--btn-radius, 0.25rem);

  width: fit-content;
  height: var(--_btn-h);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: calc(var(--_btn-x) / 3);
  padding: 0 var(--_btn-x);
  border-radius: var(--_btn-radius);
  overflow: hidden;

  @include btn-text;
  font-size: var(--_btn-content-h);
  line-height: var(--_btn-content-h);

  & > svg {
    @include svg-icon;
    z-index: z(on-btn);
    height: calc(1.25 * var(--_btn-content-h));
  }
}

/* Button sizes */
/* ✨ Config these values ✨ */
/* ================================================== */
.btn-sm {
  @include btn-structure;
  --btn-h: var(--ui-h-sm);
  --btn-content-h: 0.75em;
  --btn-x: 1.2em;
  --btn-radius: 9999px;
  box-shadow: var(--sha-2xs);
}

.btn-md {
  @include btn-structure;
  --btn-h: var(--ui-h-md);
  --btn-content-h: 0.85em;
  --btn-x: 1.4em;
  --btn-radius: 9999px;
  box-shadow: var(--sha-xs);
}

.btn-lg {
  @include btn-structure;
  --btn-h: var(--ui-h-lg);
  --btn-content-h: 1.05em;
  --btn-x: 1.6em;
  --btn-radius: 9999px;
  box-shadow: var(--sha-sm);
}

/* ================================================== */
/* Round icon button */
/* ================================================== */
@mixin btn-round-structure {
  z-index: z(btn);
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 9999px;

  & > svg {
    @include svg-icon;
    z-index: z(on-btn);
    @include btn-svg-transition;
  }
}

.btn-round-sm {
  @include btn-round-structure;

  width: var(--ui-h-sm);
  height: var(--ui-h-sm);
  box-shadow: var(--sha-2xs);

  & > svg {
    width: calc(var(--ui-h-sm) * 0.56);
    height: calc(var(--ui-h-sm) * 0.56);
  }

  &:hover {
    & > svg {
      width: calc(var(--ui-h-sm) * 0.59);
      height: calc(var(--ui-h-sm) * 0.59);
    }
  }
}

.btn-round-md {
  @include btn-round-structure;

  width: var(--ui-h-md);
  height: var(--ui-h-md);
  box-shadow: var(--sha-xs);

  & > svg {
    width: calc(var(--ui-h-md) * 0.58);
    height: calc(var(--ui-h-md) * 0.58);
  }

  &:hover {
    & > svg {
      width: calc(var(--ui-h-md) * 0.62);
      height: calc(var(--ui-h-md) * 0.62);
    }
  }
}

.btn-round-lg {
  @include btn-round-structure;

  width: var(--ui-h-lg);
  height: var(--ui-h-lg);
  box-shadow: var(--sha-sm);

  & > svg {
    width: calc(var(--ui-h-lg) * 0.56);
    height: calc(var(--ui-h-lg) * 0.56);
  }

  &:hover {
    & > svg {
      width: calc(var(--ui-h-lg) * 0.6);
      height: calc(var(--ui-h-lg) * 0.6);
    }
  }
}

/* ================================================== */
/* Button skin */
/* ================================================== */
@mixin btn-skin {
  @include btn-transition;
  --_btn-bg: var(--btn-bg, white);
  --_btn-text: var(--btn-text, black);

  @include glass.glass-3d-sm;
  color: var(--_btn-text);
  background-color: var(--_btn-bg);

  & > svg {
    background-color: var(--_btn-text);
  }

  &:hover {
    background-color: var(--_btn-bg);
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }
}

/* 3D Primary buttons */
/* ✨ Config these values ✨ */
/* ================================================== */
.btn-primary {
  @include btn-skin;
  --btn-bg: oklch(var(--primary-70) / 0.25);
  --btn-text: var(--color-white);
  @include glass.glass-filter(10px, 1, 2.5);

  &:hover {
    --btn-bg: oklch(var(--primary-70) / 0.4);
    @include glass.glass-filter(10px, 1.25, 1.5);
  }
}

/* 3D Secondary buttons */
/* ✨ Config these values ✨ */
/* ================================================== */
.btn-secondary {
  @include btn-skin;
  --btn-bg: oklch(var(--primary-25) / 0.35);
  --btn-text: var(--color-white);
  @include glass.glass-filter(10px, 0.95, 1.2);

  &:hover {
    --btn-bg: oklch(var(--primary-25) / 0.75);
    @include glass.glass-filter(10px, 1, 2);
  }
}

/* 2D Clear button */
/* ✨ Config these values ✨ */
/* ================================================== */
@mixin btn-clear {
  @include btn-transition;
  --btn-text: var(--color-white);
  --btn-bg: transparent;

  backdrop-filter: none;
  box-shadow: none;
  background-color: var(--btn-bg);
  color: var(--btn-text);

  & > svg {
    background-color: var(--btn-text);
  }

  &:hover {
    --btn-bg: oklch(var(--primary-95) / 0.2);
    @include glass.glass-filter(10px, 1.25, 1.5);
  }
}
.btn-clear { @include btn-clear; }