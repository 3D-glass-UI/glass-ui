/* ================================== */
/* Buttons & chips */
@use "../0-base/breakpoint" as bp;
@use "../0-base/color";
@use "../0-base/size";
@use "../0-base/text";
@use "../1-layout/flex";
@use "../1-layout/layout-help" as help;
@use "../2-visual/animation" as ani;
@use "../2-visual/border" as br;
@use "../2-visual/bevel";
@use "../2-visual/fill";
@use "../2-visual/shadow" as sha;
/* ================================== */

/* Button base */
/* ================================== */
@mixin btn-base {
  width: max-content;
  @include flex.flex-c;
  @include text.btn-text;
  border-radius: br.$round;
}

/* Button sm */
/* ================================== */
.btn-sm {
  $inner-h: 0.75rem; 
  // * $inner-h sets the font size, line height and icon height to the same value for vertical alignment
  /* layout */
  @include btn-base;
  height: var(--ui-sm); 
  gap: 0.3rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 2.5px 0.7rem 0 0.7rem;

  /* visual */
  box-shadow: sha.$sha-sm;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    // margin-top: -1.25px;
    filter: drop-shadow(0 0 0.5px rgba(color.$ink6, 0.4));
  }

  &.btn-sm.icon-right {
    padding: 2.5px 0.55rem 0 0.7rem;
  }
  
  &.btn-sm.icon-left {
    padding: 2.5px 0.7rem 0 0.55rem;
  }
}

/* Button md */
/* ================================== */
.btn-md {
  $inner-h: 0.95rem;
  height: var(--ui-md); 
  @include btn-base;
  gap: 0.35rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 2px 0.85rem 0 0.85rem;
  box-shadow: sha.$sha-md;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1px;
    filter: drop-shadow(0 0 0.75px rgba(color.$ink6, 0.4));
  }

  &.btn-md.icon-right {
    padding: 2px 0.75rem 0 0.85rem;
  }

  &.btn-md.icon-left {
    padding: 2px 0.85rem 0 0.75rem;
  }
}

/* Button lg */
/* ================================== */
.btn-lg {
  $inner-h: 1.1rem; 
  height: var(--ui-lg); 
  @include btn-base;
  gap: 0.4rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 1px 1.2rem 0 1.2rem;
  z-index: 20;
  box-shadow: sha.$sha-lg;

  & img {
    width: auto;
    height: $inner-h;
    // height: calc(var(--ui-lg) * 0.6); 
    align-self: center;
    @include sha.svg-sha-sm;
  }

  & .icon-right {
    padding: 3px 1rem 0 1.2rem;
  }
  
  & .icon-left {
    padding: 3px 1.2rem 0 1rem;
  }
}

/* Round buttons */
/* ================================== */
@mixin round-btn-base {
  @include flex.flex-c;
  border-radius: br.$round;
  pointer-events: auto;
  cursor: pointer;
  overflow: hidden;
}

.round-btn-sm {
  width: var(--ui-sm); 
  height: var(--ui-sm); 
  @include round-btn-base;

  & img {
    width: auto;
    height: calc(var(--ui-sm) * 0.7); 
    @include sha.svg-sha-sm;
  }
}

.round-btn-md {
  width: var(--ui-md); 
  height: var(--ui-md); 
  @include round-btn-base;

  & img {
    width: auto;
    height: calc(var(--ui-md) * 0.6); 
    @include sha.svg-sha-md;
  }
}

.round-btn-lg {
  width: var(--ui-lg); 
  height: var(--ui-lg); 
  @include round-btn-base;

  & img {
    width: auto;
    height: calc(var(--ui-lg) * 0.6); 
    @include sha.svg-sha-lg;
  }
}

/* Button color & state styling */
/* ================================== */
.btn-clear {
  pointer-events: auto;
  cursor: pointer;
  border-radius: br.$round;
  background-color: transparent;
  transition: background-color ani.$speed-slow ease-out;

  &:hover {
    background-color: color.$btn1-hover;
  }

  &:active {
    background-color: color.$btn1-active;
  }
}

/* 3D button glass */
/* ================================== */
@mixin btn-glass {
  position: relative;
  transition: 
    background-color ani.$speed-slow ease,
    color ani.$speed-slow ease;
  z-index: 20;
  @include fill.glass-filter;
  background-color: color.$tint-clear;

  &::after {
    @include help.pseudo;
    z-index: -1;

    @include fill.noise-sm;
    box-shadow: bevel.$bevel-sm;
  }

  &:hover {
    background-color: color.$tint-light;
    color: color.$text-light-bold;
  }

  &:active {
    background-color: color.$tint-xlight;
    color: color.$text-dark-reg;
  }
}

.btn-glass {
  @include btn-glass;
}


/* Light 3D button glass */
/* ================================== */
@mixin btn-glass-light {
  position: relative;
  // box-shadow: sha.$sha-sm;
  transition: 
    background-color ani.$speed-slow ease,
    color ani.$speed-slow ease;
  z-index: 20;
  @include fill.glass-filter;
  background-color: color.$tint-light;

  &::after {
    @include help.pseudo;
    z-index: -1;

    @include fill.noise-sm;
    box-shadow: bevel.$bevel-sm;
  }

  &:hover {
    background-color: color.$tint-xlight;
    color: color.$text-light-bold;
  }

  &:active {
    background-color: color.$tint-2xlight;
    color: color.$text-dark-reg;
  }
}

.btn-glass-light {
  @include btn-glass-light;
}

/* Dark 3D button glass */
/* ================================== */
@mixin btn-glass-dark {
  position: relative;
  z-index: 20;
  // box-shadow: sha.$sha-sm;
  transition: 
  background-color ani.$speed-slow ease,
  color ani.$speed-slow ease;
  background-color: color.$tint-dark;

  &::after {
    @include help.pseudo;
    z-index: -1;
    box-shadow: bevel.$bevel-md;
  }

  &::before {
    @include help.pseudo;
    z-index: -2;
    @include fill.glass-filter;
    @include fill.noise-sm;
  } 

  &:hover {
    background-color: color.$tint-xdark;
  }

  &:active {
    background-color: color.$tint-2xdark;
    color: color.$text-light-bold;
  }
}

.btn-glass-dark {
  @include btn-glass-dark;
}





/* Chips */
/* ================================== */
.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.chip {
  $inner-h: 0.75rem; // sets font, line, and icon size

  width: max-content; // to stop stretching in flex layouts 
  height: var(--ui-sm); 
  @include flex.flex-c;
  gap: 0.3rem;

  @include text.btn-text;
  font-size: $inner-h;
  line-height: $inner-h;

  padding: 2.5px 0.7rem 0 0.7rem;
  border-radius: br.$round;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1.25px;
    filter: drop-shadow(0 0 0.5px rgba(color.$ink6, 0.4));
  }
}

.chip.icon-right {
  padding: 2.5px 0.55rem 0 0.7rem;
}

.chip.icon-left {
  padding: 2.5px 0.7rem 0 0.55rem;
}