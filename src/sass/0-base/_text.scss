/* ================================== */
/* Text */
@use "../0-base/breakpoint" as bp;
@use "color";
@use "size";
@use "../2-visual/shadow" as sha;
/* ================================== */

/* Fluidly Responsive font sizes */
/* ================================== */
/* credit to Adrian Bece for interactive fluid typography editor */
/* https://modern-fluid-typography.vercel.app/ */
/* use this tool to fine-tune your fluid typography range */
:root {
  // /* xs: 14px → 16px */
  --text-xs: clamp(0.875rem, 4vw - 1rem, 1rem);

  // /* sm: 16px → 20px */
  --text-sm: clamp(1rem, 0.2vw + 1rem, 1.25rem);

  // /* md: 20px → 24px */
  --text-md: clamp(1.25rem, 0.8vw + 1rem, 1.5rem);;

  // /* lg: 24px → 32px */
  --text-lg: clamp(1.5rem, 1.5vw + 1rem, 2rem);

  // /* xl: 32px → 40px */
  --text-xl: clamp(2rem, 2.2vw + 1rem, 2.5rem);

  // /* 2xl: 40px → 48px */
  --text-2xl: clamp(2.5rem, 3.4vw + 1rem, 3rem);

  /* 3xl: 48px → 56px */
  --text-3xl: clamp(2.75rem, 4vw + 1rem, 3.5rem);
}


/* Font size MAP */
/* ================================== */
$text-sizes: (
  "xs":  var(--text-xs),
  "sm":  var(--text-sm),
  "md":  var(--text-md),
  "lg":  var(--text-lg),
  "xl":  var(--text-xl),
  "2xl":  var(--text-2xl),
  "3xl":  var(--text-3xl)
);

/* font-family: */
/* Google fonts added in index.HTML <head> for better performance */
$font-family-title: 'Poppins', Arial, sans-serif;
$font-family-body: 'Nunito Sans', Arial, sans-serif;
$font-family-code: 'Fragment Mono', Courier, monospace;

/* font-weight: */
$font-weight-xs: 200;
$font-weight-sm: 300;
$font-weight-md: 400;
$font-weight-lg: 500;

/* letter-spacing: */
$letter-spacing-sm: 0.01em;
$letter-spacing-md: 0.04em;
$letter-spacing-lg: 0.08em;

/* line-height: */
$line-height-sm: calc(0.1rem + 2ex + 0.1rem);
$line-height-md: calc(0.125rem + 2.3ex + 0.125rem);
$line-height-lg: calc(0.125rem + 2.5ex + 0.125rem);

/* Text size classes */
/* ================================== */
// * Generates a class for every font size
@mixin text-size-modifier {
  @each $key, $value in $text-sizes {
    &-#{$key} {
      font-size: $value;
      @content;
    }
  }
}

/* Body text */
/* ================================== */
@mixin body-text {
  font-family: $font-family-body;
  font-weight: $font-weight-sm;
  letter-spacing: $letter-spacing-sm;
  line-height: $line-height-md;
}

.text {
  @include text-size-modifier {
    @include body-text;
  }
}

/* Title */
/* ================================== */
@mixin title-text {
  font-family: $font-family-title;
  font-weight: $font-weight-md;
  line-height: $line-height-sm;
  letter-spacing: $letter-spacing-md;
}

.title {
  @include text-size-modifier {
    @include title-text;
  }
}

/* Thin Title */
/* ================================== */
@mixin title-thin {
  font-family: $font-family-title;
  font-weight: $font-weight-xs;
  letter-spacing: $letter-spacing-sm;
  line-height: $line-height-md;
}

.title-thin {
  @include text-size-modifier {
    @include title-thin;
  }
}


/* All caps */
/* ================================== */

/* Caps style mixin */
@mixin caps-style {
  text-transform: uppercase;
  font-family: $font-family-title;
  font-weight: $font-weight-md;
  letter-spacing: $letter-spacing-lg;
}

/* Caps style + size mixin */
@mixin caps($size) {
  @if not map-has-key($text-sizes, $size) {
    @warn "Warning: `#{$size}` is not a valid text size name.";
  } @else {
      font-size: map-get($text-sizes, $size);
      @include caps-style;
  }
}

/* Caps .class generator */
.caps {
  @include text-size-modifier {
    @include caps-style;
  }
}




/* Basic text styles */
/* ================================== */
body {
  @include body-text;
  font-size: var(--text-sm);
  color: var(--color-body);
}

.dot {
  &::before {
    padding-right: 0.25em;
    content: "•"
  }
}

.check {
  &::before {
    padding-right: 0.25em;
    content: "☐"
  }
}

.arrow {
  &::before {
    padding-right: 0.25em;
    content: "➟"
  }
}

.label-text {
  font-weight: $font-weight-md;
  line-height: 1;
}

.link {
  color: var(--color-link-rest);

  :hover {
    color: var(--color-link-hover);
  }

  :visited {
    color: var(--color-link-visited);
  }
}

.bold {
  font-weight: $font-weight-lg;
}

.lh-1 {
  line-height: 1;
}


/* Code */
/* ================================== */

pre code {
  display: block;
  white-space: pre;
  max-width: 100%;
}

@mixin code {
  font-family: $font-family-code;
  font-size: var(--text-sm);
  color: var(--_color-code);
  line-height: $line-height-lg;
  letter-spacing: $letter-spacing-sm;
}

.code {
  @include code;
}

.c-comment {
  --color-code:  oklch(75% var(--gray-ch) / 1);
}

.c-class {
  --color-code: oklch(80% var(--accent-ch) / 1);
}

.c-prop {
  --color-code: oklch(70% var(--primary-ch) / 1);
}

.c-value {
  --color-code: oklch(90% var(--primary-ch) / 1);
}


/* Text helpers */
/* ================================== */
.first-line-bold {
  &:first-line {
    font-weight: $font-weight-lg;
  }
}

@mixin eyebrow {
  text-transform: uppercase;
  font-size: var(--text-xs);
  font-family: $font-family-title;
  font-weight: $font-weight-md;
  letter-spacing: $letter-spacing-md;
  line-height: $line-height-sm;
  text-shadow: var(--text-sha-md);
  color: var(--color-eyebrow);
}

.eyebrow {
  @include eyebrow;
}

.upper {
  text-transform: uppercase;
}


@mixin lower {
  text-transform: lowercase;
  font-family: $font-family-title;
  font-weight: $font-weight-sm;
  letter-spacing: $letter-spacing-md;
  line-height: $line-height-sm;
}

.lower {
  @include lower;
}

// .upper {
//   @include text-size-modifier {
//     text-transform: uppercase;
//     font-family: $font-family-title;
//     font-weight: $font-weight-md;
//     letter-spacing: $letter-spacing-lg;
//     line-height: $line-height-sm;
//   }
// }

// .lower {
//   @include text-size-modifier {
//     text-transform: lowercase;
//     font-family: $font-family-title;
//     font-weight: $font-weight-sm;
//     letter-spacing: $letter-spacing-md;
//     line-height: $line-height-sm;
//   }
// }

.truncate {
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.text-c {
  text-align: center;
}


.thin-heading {
  @include title-thin;
  font-size: var(--text-md);
  line-height: $line-height-md;

  @include bp.bp(sm) {
    font-size: var(--text-lg);
  }

  @include bp.bp(md) {
    font-size: var(--text-xl);
  }
}



.label-gray-xs {
  font-size: var(--text-xs);
  color: var(--tint-3xlight);
  font-family: $font-family-title;
  font-weight: $font-weight-sm;
  letter-spacing: $letter-spacing-md;
}

.label-sm {
  @include title-text;
  font-size: var(--text-sm);
}

.label-md {
  @include title-text;
  font-size: var(--text-md);
}

.label-dark-sm {
  @include title-text;
  font-size: var(--text-sm);
  color: var(--tint-2xdark);
  text-shadow: var(--text-sha-sm);
}

.label-dark-md {
  @include title-text;
  font-size: var(--text-md);
  color: var(--color-text-dark);
  text-shadow: var(--text-sha-md);
}