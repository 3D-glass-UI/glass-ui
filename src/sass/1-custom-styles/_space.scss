/* ================================================== */
/* Space */
@use "sass:map";
@use "breakpoint" as bp;
@use "z-index" as z;
/* ================================================== */

/* Dynamic T-shirt sizes */
/* ================================================== */
/* ✨ Config these values ✨ */
/* Fluid Space Calculator */
/* https://utopia.fyi/space/calculator/ */
:root {
  /* 3xs: 4px → 6px */
  --3xs: clamp(0.25rem, 0.21rem + 0.21vw, 0.375rem);

  /* 2xs: 8px → 12px */
  --2xs: clamp(0.5rem, 0.42rem + 0.42vw, 0.75rem);

  /* xs: 12px → 18px */
  --xs: clamp(0.75rem, 0.63rem + 0.63vw, 1.125rem);

  /* sm: 16px → 24px */
  --sm: clamp(1rem, 0.83rem + 0.83vw, 1.5rem);

  /* md: 20px → 32px */
  --md: clamp(1.25rem, 1.04rem + 1.04vw, 2rem);

  /* lg: 24px → 36px */
  --lg: clamp(1.5rem, 1.25rem + 1.25vw, 2.25rem);

  /* xl: 28px → 40px */
  --xl: clamp(1.75em, 1.67rem + 1.67vw, 2.5rem);

  /* 2xl: 32px → 60px */
  --2xl: clamp(2rem, 2.08rem + 2.08vw, 3.75rem);

  /* 3xl: 48px → 72px */
  --3xl: clamp(3rem, 2.5rem + 2.5vw, 4.5rem);

  /* 4xl: 64px → 96px */
  --4xl: clamp(4rem, 3.33rem + 3.33vw, 6rem);

  /* 5xl: 80px → 120px */
  --5xl: clamp(5rem, 4.17rem + 4.17vw, 7.5rem);
}

/* T-shirt Size MAP */
/* ================================================== */
$sizes: (
  "3xs": --3xs,
  "2xs": --2xs,
  "xs": --xs,
  "sm": --sm,
  "md": --md,
  "lg": --lg,
  "xl": --xl,
  "2xl": --2xl,
  "3xl": --3xl,
  "4xl": --4xl,
  "5xl": --5xl,
);

$moat-sm: 1rem;
$moat-sm-2: 2rem;
$moat-md: 2rem;
$moat-md-2: 4rem;

/* Spacing variables */
/* ================================================== */
html {
  --moat: #{$moat-sm}; /* 16px */

  --max-w-xs: calc(#{bp.$bp-sm} - #{$moat-sm-2}); /* 448px */
  --max-w-sm: calc(#{bp.$bp-md} - #{$moat-md-2}); /* 800px */
  --max-w-md: calc(#{bp.$bp-lg} - #{$moat-md-2}); /* 960px */
  --max-w-lg: 75rem;                              /* 1200px */

  --ui-h-sm: 1.625rem; /* 26px */
  --ui-h-md: 2rem;     /* 32px */
  --ui-h-lg: 2.5rem;   /* 40px */

  @include bp.bp(xs) {
    --ui-h-sm: 1.75rem; /* 28px */
    --ui-h-md: 2.25rem; /* 36px */
    --ui-h-lg: 2.75rem; /* 44px */
  }

  @include bp.bp(md) {
    --moat: #{$moat-md}; /* 32px */

    --ui-h-sm: 1.875rem; /* 30px */
    --ui-h-md: 2.5rem;   /* 40px */
    --ui-h-lg: 3rem;     /* 48px */
  }
}

/* UI hight */
/* ================================================== */
.ui-h-sm {
  width: auto;
  height: var(--ui-h-sm);
}

.ui-h-md {
  width: auto;
  height: var(--ui-h-md);
}

.ui-h-lg {
  width: auto;
  height: var(--ui-h-lg);
}

/* Max width classes */
/* ================================================== */
.max-w-xs { width: min(100%, var(--max-w-xs)); }
.max-w-sm { width: min(100%, var(--max-w-sm)); }
.max-w-md { width: min(100%, var(--max-w-md)); }
.max-w-lg { width: min(100%, var(--max-w-lg)); }

/* Moat classes */
/* ================================================== */
/* wrap elements to add or remove left-right padding  */
/* add padding at the breakpoint value that match the suffix */
/* are flex containers set to `justify-content: center;` */
@mixin moat {
  width: 100%;
  // height: fit-content;
  // z-index: z.z("section");
  // display: flex;
  // justify-content: center;
  display: grid;
  place-items: center;
}

.moat-all {
  @include moat;
  padding: 0 var(--moat);

  // & > * {
  //   //
  //   max-width: calc(100vw - var(--moat2));
  // }
}

.moat-xs {
  @include moat;
  padding: 0;

  @include bp.bp(xs) {
    padding: 0 var(--moat);
  }

  // & > * {
  //   max-width: calc(bp.$bp-xs - var(--moat2));

  //   @include bp.bp(xs) {
  //     max-width: 100%;
  //   }
  // }
}

.moat-sm {
  @include moat;
  padding: 0;
  // max-width: calc(bp.$bp-sm - var(--moat2));

  @include bp.bp(sm) {
    padding: 0 var(--moat);
  }
}

.moat-md {
  @include moat;
  padding: 0;
  // max-width: calc(bp.$bp-md - var(--moat2));

  @include bp.bp(md) {
    padding: 0 var(--moat);
  }
}

.moat-lg {
  @include moat;
  padding: 0;
  // max-width: calc(bp.$bp-lg - var(--moat2));

  @include bp.bp(lg) {
    padding: 0 var(--moat);
  }
}

.moat-xl {
  @include moat;
  padding: 0;
  // max-width: calc(bp.$bp-xl - var(--moat2));

  @include bp.bp(xl) {
    padding: 0 var(--moat);
  }
}


/* Spacing */
/* ================================================== */
.page-grid {
  --space: 2rem;

  height: fit-content;
  display: grid;
  gap: var(--space);
  padding: var(--space) 0;

  @include bp.bp(sm) {
    --space: 6rem;
  }

  @include bp.bp(lg) {
    --space: 8rem;
  }
}

.section-space {
  --space: 7rem;

  display: grid;
  gap: var(--space);
  padding-top: calc(var(--space) / 1.618);

  @include bp.bp(xs) {
    --space: 8rem;
  }

  @include bp.bp(sm) {
    --space: 10rem;
  }

  @include bp.bp(md) {
    --space: 11rem;
  }

  @include bp.bp(lg) {
    --space: 12rem;
  }
}