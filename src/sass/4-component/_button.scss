/* ================================== */
/* Buttons & chips */
@use "../0-base" as *;
@use "../1-layout" as *;
@use "../2-visual" as *;
@use "../3-material" as *;
/* ================================== */


/* ================================== */
/* Chips */
/* ================================== */

.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.chip {
  $inner-h: 0.75rem; // sets font, line, and icon size

  width: max-content; // to stop stretching in flex layouts 
  height: var(--ui-size-s); 
  @include flex-center;
  gap: 0.3rem;

  @include btn-text;
  font-size: $inner-h;
  line-height: $inner-h;

  @include tint-mild;
  padding: 2.5px 0.7rem 0 0.7rem;
  border-radius: $round;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1.25px;
    filter: drop-shadow(0 0 0.5px rgba($ink6, 0.4));
  }
}

.chip.icon-right {
  padding: 2.5px 0.55rem 0 0.7rem;
}

.chip.icon-left {
  padding: 2.5px 0.7rem 0 0.55rem;
}

/* ================================== */
/* Buttons */
/* ================================== */

@mixin btn-base {
  width: max-content; // to stop stretching in flex layouts 
  @include flex-center;
  @include btn-text;
  border-radius: $round;
  pointer-events: auto;
  cursor: pointer;
}

// .btn-glass {
//   position: relative;
//   box-shadow: $bevel-m;
//   background-color: rgba($highlight-color, 0.2);

//   &::after {
//     @include pseudo;
//     z-index: -2;
    
//     -webkit-backdrop-filter: brightness(0.9) blur(8vw);
//     backdrop-filter: brightness(0.9) blur(8vw);
//     box-shadow: $ele-xl;
//   }

//   &:hover {
//     background-color: rgba($highlight-color, 0.4);
//   }
// }

/* Button size and text */
/* ================================== */
.btn-s {
  $inner-h: 0.75rem; 
  height: var(--ui-size-s); 
  @include btn-base;
  gap: 0.3rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 2.5px 0.7rem 0 0.7rem;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1.25px;
    filter: drop-shadow(0 0 0.5px rgba($ink6, 0.4));
  }
}

.btn-s.icon-right {
  padding: 2.5px 0.55rem 0 0.7rem;
}

.btn-s.icon-left {
  padding: 2.5px 0.7rem 0 0.55rem;
}

.btn-m {
  $inner-h: 1rem;
  height: var(--ui-size-m); 
  @include btn-base;
  gap: 0.35rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 2px 0.85rem 0 0.85rem;

  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1px;
    filter: drop-shadow(0 0 0.75px rgba($ink6, 0.4));
  }
}

.btn-m.icon-right {
  padding: 2px 0.75rem 0 0.85rem;
}

.btn-m.icon-left {
  padding: 2px 0.85rem 0 0.75rem;
}

.btn-l {
  $inner-h: 1.25rem; 
  height: var(--ui-size-l); 
  @include btn-base;
  gap: 0.4rem;
  font-size: $inner-h;
  line-height: $inner-h;
  padding: 2px 1.2rem 0 1.2rem;
z-index: 10;
  & img {
    width: auto;
    height: $inner-h;
    align-self: center;
    margin-top: -1.5px;
    filter: drop-shadow(0 0 0.8px rgba($ink6, 0.4));
  }
}

.btn-l.icon-right {
  padding: 3px 1rem 0 1.2rem;
}

.btn-l.icon-left {
  padding: 3px 1.2rem 0 1rem;
}


/* ================================== */
/* Icon buttons */
/* ================================== */
@mixin icon-btn-base {
  @include flex-center;
  border-radius: $round;
  pointer-events: auto;
  cursor: pointer;
}

.icon-btn-s {
  width: var(--ui-size-s); 
  height: var(--ui-size-s); 
  @include icon-btn-base;

  & img {
    width: auto;
    height: var(--ui-size-s); 
    filter: drop-shadow(0 0 0.5px rgba($ink6, 0.4));
  }
}


.circle-btn-s {
  width: var(--ui-size-s); 
  height: var(--ui-size-s); 
  @include icon-btn-base;

  & img {
    width: auto;
    height: 0.9rem;
    filter: drop-shadow(0 0 0.5px rgba($ink6, 0.4));
  }
}

.circle-btn-m {
  width: var(--ui-size-m); 
  height: var(--ui-size-m); 
  @include icon-btn-base;

  & img {
    width: auto;
    height: 1.1rem;
    filter: drop-shadow(0 0 0.75px rgba($ink6, 0.4));
  }
}

.circle-btn-l {
  width: var(--ui-size-l); 
  height: var(--ui-size-l); 
  @include icon-btn-base;

  & img {
    width: auto;
    height: calc(var(--ui-size-s) * 0.9); 

    @include breakpoint(m) {
      height: var(--ui-size-s); 
    }

    @include breakpoint(xl) {
      height: calc(var(--ui-size-s) * 1.1); 
    }
  }
}


/* Button color & state styling */
/* ================================== */

.btn-tinted-glass {
  color: $sky98;
  background-color: rgba($sky95, 0.1);
  -webkit-backdrop-filter: brightness(1.1);
  backdrop-filter: brightness(1.1);
  box-shadow:  $bevel-s;
  transition: backdrop-filter 500ms ease-out;

  &:hover {
    -webkit-backdrop-filter: brightness(0.9);
    backdrop-filter: brightness(0.9);
  }

  &:active {
    -webkit-backdrop-filter: brightness(0.75);
    backdrop-filter: brightness(0.75);
  }
}

.btn-clear {
  background-color: transparent;
  color: $sky98;
  transition: background-color 500ms ease-out;

  &:hover {
    background-color: rgba($sky98, 0.1);
  }

  &:active {
    background-color: rgba($ink6, 0.1);
  }
}
